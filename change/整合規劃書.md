# ESG å ±å‘Šæ›¸è‡ªå‹•åŒ–åˆ†æç³»çµ±æ•´åˆè¦åŠƒæ›¸

**å°ˆæ¡ˆåç¨±ï¼š** Greenwashing Detective Project  
**è¦åŠƒæ—¥æœŸï¼š** 2026-01-14  
**è¦åŠƒç‰ˆæœ¬ï¼š** V1.5  
**æœ€å¾Œæ›´æ–°ï¼š** 2026-01-15  
**ç›®æ¨™ï¼š** æ•´åˆæ‰€æœ‰æ¨¡çµ„ï¼Œå¯¦ç¾å®Œæ•´çš„ ESG å ±å‘Šæ›¸è‡ªå‹•æŠ“å–ã€åˆ†æèˆ‡é©—è­‰æµç¨‹

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°](#å°ˆæ¡ˆæ¦‚è¿°)
2. [ç³»çµ±æ¶æ§‹åœ–](#ç³»çµ±æ¶æ§‹åœ–)
3. [æ¨¡çµ„æ•´åˆæµç¨‹](#æ¨¡çµ„æ•´åˆæµç¨‹)
4. [å„æ¨¡çµ„è©³ç´°è¦æ ¼](#å„æ¨¡çµ„è©³ç´°è¦æ ¼)
5. [è³‡æ–™æµèˆ‡æ ¼å¼å®šç¾©](#è³‡æ–™æµèˆ‡æ ¼å¼å®šç¾©)
6. [æ•´åˆæ™‚ç¨‹è¦åŠƒ](#æ•´åˆæ™‚ç¨‹è¦åŠƒ)
7. [é¢¨éšªèˆ‡æ³¨æ„äº‹é …](#é¢¨éšªèˆ‡æ³¨æ„äº‹é …)

---

## å°ˆæ¡ˆæ¦‚è¿°

### ç›®æ¨™
å°‡ app.py ä¸­çš„ `query_company()` è‡ªå‹•æŠ“å–æµç¨‹å¾æ¸¬è©¦éšæ®µå‡ç´šç‚ºæ­£å¼ç”Ÿç”¢ç’°å¢ƒï¼Œæ•´åˆæ‰€æœ‰å°çµ„æˆå“¡é–‹ç™¼çš„æ¨¡çµ„ï¼Œå¯¦ç¾ç«¯åˆ°ç«¯çš„ ESG å ±å‘Šæ›¸åˆ†æèˆ‡æ¼‚ç¶ åµæ¸¬åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½
- **è‡ªå‹•æŠ“å–**ï¼šä¸‹è¼‰ ESG å ±å‘Šæ›¸ PDF
- **AI åˆ†æ**ï¼šä½¿ç”¨ Gemini AI åˆ†æå ±å‘Šå…§å®¹
- **æ–‡å­—é›²ç”Ÿæˆ**ï¼šè¦–è¦ºåŒ–å ±å‘Šé‡é»
- **æ–°èé©—è­‰**ï¼šæŠ“å–ç›¸é—œæ–°èé€²è¡Œäº¤å‰æ¯”å°
- **è©•åˆ†èª¿æ•´**ï¼šåŸºæ–¼å¤–éƒ¨è­‰æ“šèª¿æ•´é¢¨éšªåˆ†æ•¸
- **ä¾†æºé©—è­‰**ï¼šé©—è­‰å¤–éƒ¨è­‰æ“šçš„å¯é æ€§
- **è³‡æ–™å„²å­˜**ï¼šå°‡å®Œæ•´åˆ†æçµæœå­˜å…¥è³‡æ–™åº«

### æ¶‰åŠæª”æ¡ˆ
- `app.py` - ä¸»è¦ API è·¯ç”±
- `gemini_api.py` - AI åˆ†ææ¨¡çµ„ âœ…
- `word_cloud.py` - æ–‡å­—é›²ç”Ÿæˆæ¨¡çµ„
- `news_search/crawler_news.py` - æ–°èçˆ¬èŸ²æ¨¡çµ„
- `run_prompt2_gemini.py` - AI é©—è­‰èˆ‡è©•åˆ†èª¿æ•´æ¨¡çµ„
- `pplx_api.py` - ä¾†æºå¯é åº¦é©—è­‰æ¨¡çµ„
- `db_service.py` - è³‡æ–™åº«æ“ä½œæ¨¡çµ„

---

## ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä½¿ç”¨è€…æŸ¥è©¢è«‹æ±‚                                â”‚
â”‚                      /api/query_company                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   Step 1: æŸ¥è©¢è³‡æ–™åº«   â”‚
                     â”‚  (db_service.py)    â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ è³‡æ–™å­˜åœ¨ï¼Ÿ              â”‚
                    â”‚  - YES: å›å‚³è³‡æ–™        â”‚
                    â”‚  - NO: ç¹¼çºŒè‡ªå‹•æŠ“å–æµç¨‹  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ NO
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  Step 2: ä¸‹è¼‰ PDF     â”‚
                     â”‚ (crawler_esgReport.py)â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚Step 3a: Word Cloud   â”‚       â”‚Step 3b: AI åˆ†æ       â”‚
     â”‚ (word_cloud.py)     â”‚       â”‚ (gemini_api.py)      â”‚
     â”‚ ã€å¹³è¡ŒåŸ·è¡Œã€‘          â”‚       â”‚                      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 4: æ–°èçˆ¬èŸ²      â”‚
                                   â”‚ (crawler_news.py)    â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 5: AI é©—è­‰èª¿æ•´   â”‚
                                   â”‚(run_prompt2_gemini.py)â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 6: ä¾†æºé©—è­‰      â”‚
                                   â”‚  (pplx_api.py) âœ…    â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 7: å­˜å…¥è³‡æ–™åº«    â”‚
                                   â”‚  (db_service.py)     â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 8: æ›´æ–°ç‹€æ…‹      â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ Step 9: å›å‚³å®Œæ•´çµæœ   â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ¨¡çµ„æ•´åˆæµç¨‹

### æ•´é«”æµç¨‹ï¼ˆSequential Pipelineï¼‰

```
PDF ä¸‹è¼‰ â†’ ã€AI åˆ†æ âˆ¥ æ–‡å­—é›²ã€‘âœ… â†’ æ–°èçˆ¬èŸ²âœ… â†’ AI é©—è­‰âœ… â†’ ä¾†æºé©—è­‰âœ… â†’ è³‡æ–™åº«å„²å­˜âœ…
```

> **æ³¨æ„ï¼š** AI åˆ†æï¼ˆStep 3bï¼‰å’Œæ–‡å­—é›²ç”Ÿæˆï¼ˆStep 3aï¼‰ç‚ºå¹³è¡ŒåŸ·è¡Œï¼Œäº’ä¸ä¾è³´ã€‚
> **ç‹€æ…‹ï¼š** 
> - âœ… T2 å·²å®Œæˆæ•´åˆï¼ˆ2026-01-14ï¼‰
> - âœ… T3 å·²å®Œæˆæ•´åˆï¼ˆ2026-01-14ï¼‰
> - âœ… T4 å·²å®Œæˆæ•´åˆï¼ˆ2026-01-15ï¼‰
> - âœ… T5 å·²å®Œæˆæ•´åˆï¼ˆ2026-01-15ï¼‰

---

### Step 1: æŸ¥è©¢è³‡æ–™åº«ï¼ˆå·²å¯¦ä½œï¼‰
**è² è²¬æ¨¡çµ„ï¼š** `db_service.py`

**åŠŸèƒ½ï¼š**
- æŸ¥è©¢ `company` å’Œ `company_report` è¡¨
- åˆ¤æ–·è³‡æ–™ç‹€æ…‹ï¼š`completed` / `processing` / `failed` / `not_found`

**è¼¸å‡ºï¼š**
- è‹¥ `completed`ï¼šå›å‚³å®Œæ•´è³‡æ–™
- å¦å‰‡ï¼šé€²å…¥è‡ªå‹•æŠ“å–æµç¨‹

---

### Step 2: ä¸‹è¼‰ ESG å ±å‘Šæ›¸ PDFï¼ˆå·²å¯¦ä½œï¼‰
**è² è²¬æ¨¡çµ„ï¼š** `crawler_esgReport.py`

**åŠŸèƒ½ï¼š**
- å¾å…¬é–‹è³‡è¨Šè§€æ¸¬ç«™ä¸‹è¼‰å ±å‘Šæ›¸
- å‘½åæ ¼å¼ï¼š`{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_{å…¬å¸åç¨±}_{å ±å‘Šé¡å‹}.pdf`
- å„²å­˜ä½ç½®ï¼š`temp_data/esgReport/`

**è¼¸å‡ºï¼š**
- PDF æª”æ¡ˆè·¯å¾‘
- å ±å‘ŠåŸºæœ¬è³‡è¨Šï¼ˆå…¬å¸åç¨±ã€ç”¢æ¥­é¡åˆ¥ï¼‰

---

### Step 3a: æ–‡å­—é›²ç”Ÿæˆï¼ˆå¹³è¡ŒåŸ·è¡Œï¼‰âœ… **å·²å®Œæˆ**
**è² è²¬æ¨¡çµ„ï¼š** `word_cloud.py`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** PDF ä¸‹è¼‰å®Œæˆå¾Œï¼Œèˆ‡ AI åˆ†æåŒæ­¥åŸ·è¡Œ

**è¼¸å…¥ï¼š**
```python
{
    "pdf_path": "temp_data/esgReport/2024_1102_äºæ´²æ°´æ³¥_æ°¸çºŒå ±å‘Šæ›¸.pdf",
    "year": 2024,
    "company_code": "1102"
}
```

**åŠŸèƒ½ï¼š**
- å¾ PDF æå–æ–‡å­—
- é€²è¡Œä¸­æ–‡æ–·è©
- ç”Ÿæˆæ–‡å­—é›²åœ–ç‰‡
- æå–é—œéµå­—

**è¼¸å‡ºï¼š**
```python
{
    "wordcloud_image": "word_cloud/wc_output/2024_1102_wordcloud.png",
    "keywords": ["æ°¸çºŒ", "æ¸›ç¢³", "æ·¨é›¶", "ESG", "æ²»ç†", ...]
}
```

**å„²å­˜ä½ç½®ï¼š**
- åœ–ç‰‡ï¼š`word_cloud/wc_output/{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_wordcloud.png`

---

### Step 3b: AI åˆ†æå ±å‘Šæ›¸ âœ… **å·²å®Œæˆ**
**è² è²¬æ¨¡çµ„ï¼š** `gemini_api.py` â†’ `ESGReportAnalyzer`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** PDF ä¸‹è¼‰å®Œæˆå¾Œç«‹å³åŸ·è¡Œ

**è¼¸å…¥ï¼š**
```python
analyzer = ESGReportAnalyzer(
    target_year=2024,
    target_company_id="1102"
)
analyzer.run()
```

**åŠŸèƒ½ï¼š**
1. ä¸Šå‚³ PDF è‡³ Gemini
2. åŸºæ–¼ SASB æ¡†æ¶åˆ†æ
3. æ‡‰ç”¨ Clarkson et al. 2008 è©•åˆ†é‚è¼¯
4. ç”¢ç”Ÿçµæ§‹åŒ– JSON

**è¼¸å‡ºæª”æ¡ˆï¼š** `temp_data/prompt1_json/2024_1102_P1.json`

**è¼¸å‡ºæ ¼å¼ï¼š**
```json
[
  {
    "company": "1101",
    "year": "2024",
    "esg_category": "E",
    "sasb_topic": "æº«å®¤æ°£é«”æ’æ”¾",
    "page_number": "20",
    "report_claim": "2024å¹´æ°´æ³¥äº‹æ¥­ç¯„ç–‡1+2å¯¦éš›æ’æ”¾å¼·åº¦...",
    "greenwashing_factor": "æ’æ”¾å¼·åº¦ä¸‹é™å¯èƒ½æ©è“‹ç¸½æ’æ”¾é‡...",
    "risk_score": 4
  }
]
```

**çµ±è¨ˆï¼š** é€šå¸¸ç”¢ç”Ÿ 20-30 ç­†åˆ†æé …ç›®ï¼ˆä¾ç”¢æ¥­ SASB è­°é¡Œæ•¸é‡ï¼‰

---

### Step 4: æ–°èçˆ¬èŸ²é©—è­‰ âœ¨ **éœ€æ•´åˆ**
**è² è²¬æ¨¡çµ„ï¼š** `news_search/crawler_news.py`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** AI åˆ†æï¼ˆStep 3bï¼‰å®Œæˆå¾ŒåŸ·è¡Œ

**è¼¸å…¥ï¼š**
- è®€å–ï¼š`temp_data/prompt1_json/2024_1102_P1.json`
- ä¾è³´æ¬„ä½ï¼š`company`, `year`, `sasb_topic`, `key_word`ï¼ˆéœ€äº‹å…ˆç”Ÿæˆï¼‰

> **æ³¨æ„ï¼š** P1 JSON éœ€è¦åŒ…å« `key_word` æ¬„ä½ä¾›æœå°‹ä½¿ç”¨

**åŠŸèƒ½ï¼š**
1. è®€å– AI åˆ†æçµæœ
2. é‡å°æ¯å€‹è­°é¡Œæœå°‹ç›¸é—œæ–°è
3. ä½¿ç”¨ GNews API æŠ“å–æ–°è
4. éæ¿¾ç›®æ¨™å¹´ä»½å…§çš„æ–°è
5. æå–æ¨™é¡Œã€URLã€ç™¼å¸ƒæ—¥æœŸ

**è¼¸å‡ºæª”æ¡ˆï¼š** `news_search/news_output/2024_1102_news_results_YYYYMMDD_HHMMSS.json`

**è¼¸å‡ºæ ¼å¼ï¼š**
```json
[
  {
    "news_id": 1,
    "stock_code": "1102",
    "company_name": "äºæ´²æ°´æ³¥",
    "sasb_topic": "æº«å®¤æ°£é«”æ’æ”¾",
    "search_query": "äºæ´²æ°´æ³¥ æº«å®¤æ°£é«” SBTi",
    "title": "äºæ³¥SBTiç¬¬ä¸€éšæ®µç›®æ¨™æå‰é”é™£...",
    "url": "https://news.cnyes.com/...",
    "published_date": "2024-05-15",
    "publisher": "é‰…äº¨ç¶²"
  }
]
```

---

### Step 5: AI é©—è­‰èˆ‡èª¿æ•´è©•åˆ† âœ¨ **éœ€æ•´åˆ**
**è² è²¬æ¨¡çµ„ï¼š** `run_prompt2_gemini.py` â†’ `process_esg_news_verification()`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** æ–°èçˆ¬èŸ²ï¼ˆStep 4ï¼‰å®Œæˆå¾ŒåŸ·è¡Œ

**è¼¸å…¥ï¼š**
- P1 JSONï¼š`temp_data/prompt1_json/2024_1102_P1.json`
- æ–°è JSONï¼š`news_search/news_output/2024_1102_news_results_*.json`
- MSCI æ¨™æº–ï¼š`static/data/msci_flag.json`

**åŠŸèƒ½ï¼š**
1. è®€å– AI åˆ†æçµæœå’Œæ–°èè³‡æ–™
2. ä½¿ç”¨ Gemini AI äº¤å‰é©—è­‰
3. ç”Ÿæˆ `external_evidence`ï¼ˆå¤–éƒ¨è­‰æ“šæ‘˜è¦ï¼‰
4. ç”Ÿæˆ `external_evidence_url`ï¼ˆè­‰æ“šä¾†æºç¶²å€ï¼‰
5. åˆ¤æ–· `consistency_status`ï¼ˆä¸€è‡´æ€§ç‹€æ…‹ï¼‰
6. æ¨™è¨˜ `msci_flag`ï¼ˆGreen/Yellow/Redï¼‰
7. è¨ˆç®— `adjustment_score`ï¼ˆèª¿æ•´å¾Œåˆ†æ•¸ï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š** `temp_data/prompt2_json/2024_1102_P2.json`

**è¼¸å‡ºæ ¼å¼ï¼š**
```json
[
  {
    "company": "äºæ´²æ°´æ³¥",
    "year": "2024",
    "esg_category": "E",
    "disclosure_claim": "2024å¹´æ°´æ³¥äº‹æ¥­ç¯„ç–‡1+2...",
    "page_number": "20",
    "external_evidence": "ç’°å¢ƒéƒ¨2024å¹´æº«å®¤æ°£é«”æ’æ”¾é‡ç›¤æŸ¥è³‡æ–™é¡¯ç¤º...",
    "external_evidence_url": "https://ghghub.moenv.gov.tw/",
    "consistency_status": "éƒ¨åˆ†ç¬¦åˆ",
    "msci_flag": "Green",
    "adjustment_score": 4
  }
]
```

**çµ±è¨ˆï¼š** èˆ‡ P1 ç›¸åŒç­†æ•¸ï¼Œæ¯ç­†éƒ½æœ‰å¤–éƒ¨é©—è­‰

---

### Step 6: ä¾†æºå¯é åº¦é©—è­‰ âœ¨ **éœ€æ•´åˆ**
**è² è²¬æ¨¡çµ„ï¼š** `pplx_api.py` â†’ `process_json_file()`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** AI é©—è­‰ï¼ˆStep 5ï¼‰å®Œæˆå¾ŒåŸ·è¡Œ

**è¼¸å…¥ï¼š**
- è®€å–ï¼š`temp_data/prompt2_json/2024_1102_P2.json`
- è‡ªå‹•åµæ¸¬æœ€æ–°æª”æ¡ˆ

**åŠŸèƒ½ï¼š**
1. é©—è­‰æ¯å€‹ `external_evidence_url` çš„æœ‰æ•ˆæ€§
2. è‹¥ URL å¤±æ•ˆï¼Œä½¿ç”¨ Perplexity API æœå°‹æ›¿ä»£ URL
3. æ¨™è¨˜ `is_verified`ï¼ˆTrue/False/Failedï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š** `temp_data/prompt3_json/2024_1102_P3.json`

**è¼¸å‡ºæ ¼å¼ï¼š**
```json
[
  {
    "company_id": "1101",
    "year": "2024",
    "ESG_category": "E",
    "SASB_topic": "æº«å®¤æ°£é«”æ’æ”¾",
    "page_number": "20",
    "report_claim": "2024å¹´æ°´æ³¥äº‹æ¥­ç¯„ç–‡1+2...",
    "risk_score": 4,
    "external_evidence": "äºæ³¥SBTiç¬¬ä¸€éšæ®µç›®æ¨™æå‰é”é™£...",
    "external_evidence_url": "https://news.google.com/...",
    "consistency_status": "ä¸€è‡´",
    "MSCI_flag": "Green",
    "adjustment_score": 4,
    "is_verified": true
  }
]
```

**çµ±è¨ˆï¼š** èˆ‡ P2 ç›¸åŒç­†æ•¸ï¼Œæ¯ç­†éƒ½å·²é©—è­‰ä¾†æº

---

### Step 7: å­˜å…¥è³‡æ–™åº«
**è² è²¬æ¨¡çµ„ï¼š** `db_service.py` â†’ `insert_analysis_results()`

**åŸ·è¡Œæ™‚æ©Ÿï¼š** ä¾†æºé©—è­‰ï¼ˆStep 6ï¼‰å®Œæˆå¾ŒåŸ·è¡Œ

**è¼¸å…¥ï¼š**
- è®€å–ï¼š`temp_data/prompt3_json/2024_1102_P3.json`
- è§£ææˆæ¨™æº–æ ¼å¼

**åŠŸèƒ½ï¼š**
1. è®€å– P3 æœ€çµ‚åˆ†æçµæœ
2. æ›´æ–° `company` è¡¨çš„åŸºæœ¬è³‡è¨Š
3. æ‰¹æ¬¡æ’å…¥ `company_report` è¡¨çš„æ‰€æœ‰åˆ†æé …ç›®
4. æ›´æ–° `analysis_status` ç‚º `completed`

**è³‡æ–™è¡¨çµæ§‹ï¼š**

**company è¡¨**
```sql
ESG_id          VARCHAR(20) PRIMARY KEY
company_code    VARCHAR(10)
company_name    VARCHAR(100)
Report_year     INT
industry        VARCHAR(50)
URL             VARCHAR(500)
analysis_status VARCHAR(20)  -- 'completed'
```

**company_report è¡¨**
```sql
id                      INT AUTO_INCREMENT PRIMARY KEY
ESG_id                  VARCHAR(20) FOREIGN KEY
ESG_category            CHAR(1)
SASB_topic              VARCHAR(100)
page_number             VARCHAR(10)
report_claim            TEXT
greenwashing_factor     TEXT
risk_score              VARCHAR(5)
external_evidence       TEXT
external_evidence_url   VARCHAR(500)
consistency_status      VARCHAR(20)
MSCI_flag               VARCHAR(10)
adjustment_score        DECIMAL(3,1)
is_verified             VARCHAR(10)
```

---

## è³‡æ–™æµèˆ‡æ ¼å¼å®šç¾©

### è³‡æ–™æ ¼å¼æ¼”è®Š

| éšæ®µ | æª”æ¡ˆ | ä¸»è¦æ¬„ä½ | ç­†æ•¸ç¯„ä¾‹ |
|------|------|---------|---------|
| **Step 3b** | P1.json | company, year, esg_category, sasb_topic, report_claim, greenwashing_factor, risk_score | 26 ç­† |
| **Step 5** | P2.json | P1 æ‰€æœ‰æ¬„ä½ + external_evidence, external_evidence_url, consistency_status, msci_flag, adjustment_score | 26 ç­† |
| **Step 6** | P3.json | P2 æ‰€æœ‰æ¬„ä½ + is_verified | 26 ç­† |

### æ¬„ä½å°æ‡‰é—œä¿‚

| P1 æ¬„ä½ | P2 æ¬„ä½ | P3 æ¬„ä½ | è³‡æ–™åº«æ¬„ä½ |
|---------|---------|---------|-----------|
| company | company | company_id | company_code |
| year | year | year | Report_year |
| esg_category | esg_category | ESG_category | ESG_category |
| sasb_topic | (æœªè®Šæ›´) | SASB_topic | SASB_topic |
| page_number | page_number | page_number | page_number |
| report_claim | disclosure_claim | report_claim | report_claim |
| greenwashing_factor | - | - | greenwashing_factor |
| risk_score | - | risk_score | risk_score |
| - | external_evidence | external_evidence | external_evidence |
| - | external_evidence_url | external_evidence_url | external_evidence_url |
| - | consistency_status | consistency_status | consistency_status |
| - | msci_flag | MSCI_flag | MSCI_flag |
| - | adjustment_score | adjustment_score | adjustment_score |
| - | - | is_verified | is_verified |

---

## æ•´åˆæ™‚ç¨‹è¦åŠƒ

### T2: Word Cloud æ¨¡çµ„æ•´åˆ âœ… **å·²å®Œæˆ**
**ç›®æ¨™ï¼š** å°‡æ–‡å­—é›²ç”ŸæˆåŠŸèƒ½æ•´åˆè‡³ `app.py`

**ä»»å‹™ï¼š**
1. [x] åˆ†æ `word_cloud.py` ç¾æœ‰ç¨‹å¼ç¢¼
2. [x] è¨­è¨ˆæ¨¡çµ„åŒ–æ¥å£å‡½æ•¸ï¼ˆåŠ å…¥ `force_regenerate` åƒæ•¸ï¼‰
3. [x] æ•´åˆè‡³ `app.py` çš„ Step 3a
4. [x] å¯¦ä½œå¹³è¡ŒåŸ·è¡Œé‚è¼¯ï¼ˆä½¿ç”¨ threading èˆ‡ AI åˆ†æåŒæ­¥ï¼‰
5. [x] æ¸¬è©¦æ–‡å­—é›²ç”ŸæˆåŠŸèƒ½
6. [x] `serve_wordcloud()` è·¯ç”±ï¼ˆå·²å­˜åœ¨ï¼Œç„¡éœ€ä¿®æ”¹ï¼‰
7. [x] å»ºç«‹ T2 è®Šæ›´æ–‡æª”

**å®Œæˆæ—¥æœŸï¼š** 2026-01-14

**æ¸¬è©¦çµæœï¼š**
- âœ… ç¨ç«‹é‹è¡Œæ¸¬è©¦ï¼ˆå…¬å¸ 1314 ä¸­çŸ³åŒ–ï¼‰
  - ç”Ÿæˆ 100 å€‹é—œéµå­—
  - åŸ·è¡Œæ™‚é–“ï¼š61.42 ç§’
  - å‰ 10 é—œéµå­—ï¼šä¸­çŸ³åŒ–, æ™ºæ…§, æºé€š, é–‹ç™¼, ç’°å¢ƒ, ç”Ÿç”¢, åƒ¹å€¼, å‰ç», é—œæ‡·, å·¥æ¥­
- âœ… Flask æ•´åˆæ¸¬è©¦
  - æˆåŠŸè®€å– JSONï¼š`GET /word_cloud/wc_output/2024_1314_wc.json` â†’ 200 OK
- âœ… æª”æ¡ˆæª¢æŸ¥æ©Ÿåˆ¶é©—è­‰ï¼ˆé‡è¤‡åŸ·è¡Œ < 0.1 ç§’ï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š**
- [word_cloud/word_cloud.py](file:///c:/project/github_push/greenwashing_detective_project/word_cloud/word_cloud.py) - æ¨¡çµ„åŒ–å®Œæˆ
- [app.py](file:///c:/project/github_push/greenwashing_detective_project/app.py#L283-L335) - Step 3 å¹³è¡ŒåŸ·è¡Œ
- [è®Šæ›´æ–‡æª”](file:///C:/Users/sadiv/.gemini/antigravity/brain/61bb765f-e484-4c1a-a6b0-71a19f76dab8/walkthrough.md)

---

### T3: æ–°èçˆ¬èŸ²æ¨¡çµ„æ•´åˆ âœ… **å·²å®Œæˆ**
**ç›®æ¨™ï¼š** å°‡æ–°èé©—è­‰åŠŸèƒ½æ•´åˆè‡³ `app.py`

**ä»»å‹™ï¼š**
1. [x] åˆ†æ `crawler_news.py` ç¾æœ‰ç¨‹å¼ç¢¼
2. [x] å¯¦ä½œ `key_word` ä¸‰å±¤ç´š fallback æ©Ÿåˆ¶ï¼ˆä¸ä¿®æ”¹ P1 JSONï¼‰
3. [x] è¨­è¨ˆæ¨¡çµ„åŒ–æ¥å£å‡½æ•¸ `search_news_for_report()`
4. [x] èª¿æ•´è¼¸å‡ºæª”åæ ¼å¼ï¼ˆç§»é™¤æ™‚é–“æˆ³ï¼‰
5. [x] æ•´åˆè‡³ `app.py` çš„ Step 4
6. [x] å»ºç«‹ T3 è®Šæ›´æ–‡æª”

**å®Œæˆæ—¥æœŸï¼š** 2026-01-14

**æ¸¬è©¦çµæœï¼š**
- âœ… æ¸¬è©¦ç¯„ä¾‹ï¼ˆäºæ³¥ 2024ï¼‰
  - è™•ç†é …ç›®æ•¸: 26
  - æ–°èç¸½æ•¸: 61
  - æˆåŠŸç‡: 92% (24/26)
  - åŸ·è¡Œæ™‚é–“: ~98 ç§’
- âœ… key_word fallback æ©Ÿåˆ¶é©—è­‰
  - å±¤ç´š 1: P1 æä¾›çš„ key_wordï¼ˆè‹¥å­˜åœ¨ï¼‰
  - å±¤ç´š 2: SASB é—œéµå­—è¡¨å‹•æ…‹ç”Ÿæˆ
  - å±¤ç´š 3: åŸºæœ¬çµ„åˆï¼ˆå…¬å¸åç¨± + è­°é¡Œï¼‰
- âœ… æª”æ¡ˆå­˜åœ¨æ€§æª¢æŸ¥ï¼ˆé‡è¤‡åŸ·è¡Œ < 0.5 ç§’ï¼‰
- âœ… app.py æ•´åˆæ¸¬è©¦ï¼ˆå¤±æ•—ä¸å½±éŸ¿ä¸»æµç¨‹ï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š**
- [news_search/crawler_news.py](file:///c:/project/github_push/greenwashing_detective_project/news_search/crawler_news.py) - å®Œå…¨é‡æ§‹ï¼ˆ+185 è¡Œï¼‰
- [app.py](file:///c:/project/github_push/greenwashing_detective_project/app.py#L336-L357) - Step 4 æ–°èçˆ¬èŸ²
- [è®Šæ›´æ–‡æª”](file:///c:/project/github_push/greenwashing_detective_project/change/t3/README.md)

**é—œéµç‰¹æ€§ï¼š**
- âœ… key_word ä¸‰å±¤ç´š fallbackï¼šå³ä½¿ P1 ç„¡ key_word ä¹Ÿèƒ½åŸ·è¡Œ
- âœ… æª”åçµ±ä¸€ï¼š`{year}_{code}_news.json`ï¼ˆç„¡æ™‚é–“æˆ³ï¼‰
- âœ… é‡è©¦æ©Ÿåˆ¶ï¼šAPI è«‹æ±‚å¤±æ•—æœ€å¤šé‡è©¦ 3 æ¬¡
- âœ… Resilient designï¼šå–®ä¸€è­°é¡Œå¤±æ•—ä¸ä¸­æ–·æ•´é«”æµç¨‹
- âœ… è©³ç´°çµ±è¨ˆï¼šprocessed_items, failed_items, failure_details



---

### T4: AI é©—è­‰èˆ‡èª¿æ•´æ¨¡çµ„æ•´åˆ âœ… **å·²å®Œæˆ**
**ç›®æ¨™ï¼š** å°‡ Prompt 2 åˆ†æåŠŸèƒ½æ•´åˆè‡³ `app.py`

**ä»»å‹™ï¼š**
1. [x] åˆ†æ `run_prompt2_gemini.py` ç¾æœ‰ç¨‹å¼ç¢¼
2. [x] è¨­è¨ˆæ¨¡çµ„åŒ–æ¥å£å‡½æ•¸ `verify_esg_with_news()`
3. [x] æ•´åˆè‡³ `app.py` çš„ Step 5
4. [x] ä¿®æ­£ Prompt ä¿æŒ P1 æ¬„ä½æ ¼å¼ï¼ˆcompany ç‚ºä»£ç¢¼ã€report_claim ä¸è®Šï¼‰
5. [x] å¯¦ä½œ Token çµ±è¨ˆèˆ‡éŒ¯èª¤è™•ç†
6. [x] å»ºç«‹ T4 è®Šæ›´æ–‡æª”

**å®Œæˆæ—¥æœŸï¼š** 2026-01-15

**æ¸¬è©¦çµæœï¼š**
- âœ… æ¨¡çµ„åŒ–æ¥å£å¯¦ä½œå®Œæˆ
- âœ… Prompt æ¬„ä½æ ¼å¼ä¿®æ­£ï¼ˆcompany: "1102"ã€report_claimï¼‰
- âœ… æª”æ¡ˆå­˜åœ¨æ€§æª¢æŸ¥æ©Ÿåˆ¶
- âœ… Token çµ±è¨ˆåŠŸèƒ½ï¼ˆinput/output/totalï¼‰
- âœ… éŒ¯èª¤è™•ç†ä¸ä¸­æ–·ä¸»æµç¨‹
- âœ… app.py æ•´åˆå®Œæˆï¼ˆStep 5 ä½ç½®ï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š**
- [run_prompt2_gemini.py](file:///c:/project/github_push/greenwashing_detective_project/run_prompt2_gemini.py) - Prompt ä¿®æ­£ã€æ–°å¢ `verify_esg_with_news()`
- [app.py](file:///c:/project/github_push/greenwashing_detective_project/app.py#L359-L383) - Step 5 AI é©—è­‰æ•´åˆ
- [è®Šæ›´æ–‡æª”](file:///c:/project/github_push/greenwashing_detective_project/change/t4/README.md)

**é—œéµç‰¹æ€§ï¼š**
- âœ… ä¿æŒ P1â†”P2 æ¬„ä½ä¸€è‡´æ€§ï¼ˆcompany ç‚ºä»£ç¢¼ã€ä½¿ç”¨ report_claimï¼‰
- âœ… è‡ªå‹•æª”æ¡ˆè·¯å¾‘æ§‹å»ºèˆ‡å­˜åœ¨æ€§æª¢æŸ¥
- âœ… è©³ç´°çµ±è¨ˆè³‡è¨Šè¿”å›ï¼ˆprocessed_itemsã€tokensã€åŸ·è¡Œæ™‚é–“ï¼‰
- âœ… èˆ‡ Step 3a/4 ä¸€è‡´çš„éŒ¯èª¤å®¹å¿è¨­è¨ˆ
- âœ… ä¿®æ”¹ `process_esg_news_verification()` è¿”å›çµ±è¨ˆè³‡è¨Š

---

### T5: ä¾†æºé©—è­‰æ¨¡çµ„æ•´åˆ âœ… **å·²å®Œæˆ**
**ç›®æ¨™ï¼š** å°‡ Perplexity API é©—è­‰åŠŸèƒ½æ•´åˆè‡³ `app.py`

**ä»»å‹™ï¼š**
1. [x] åˆ†æ `pplx_api.py` ç¾æœ‰ç¨‹å¼ç¢¼
2. [x] è¨­è¨ˆæ¨¡çµ„åŒ–æ¥å£å‡½æ•¸ `verify_evidence_sources()`
3. [x] æ•´åˆè‡³ `app.py` çš„ Step 6
4. [x] è™•ç† API é™åˆ¶èˆ‡éŒ¯èª¤è™•ç†
5. [x] æ¸¬è©¦ä¾†æºé©—è­‰åŠŸèƒ½
6. [x] å»ºç«‹ T5 è®Šæ›´æ–‡æª”

**å®Œæˆæ—¥æœŸï¼š** 2026-01-15

**æ¸¬è©¦çµæœï¼š**
- âœ… æ¨¡çµ„åŒ–æ¥å£å¯¦ä½œå®Œæˆ
- âœ… æª”æ¡ˆæª¢æŸ¥æ©Ÿåˆ¶æ­£å¸¸
- âœ… app.py æ•´åˆå®Œæˆï¼ˆStep 6 ä½ç½®ï¼‰
- âœ… å°ˆæ¡ˆçµæ§‹æ¸…ç†ï¼ˆåˆªé™¤è¡çªçš„ `pplx_api/` è³‡æ–™å¤¾ï¼‰
- âœ… ç§»é™¤æœªä½¿ç”¨ä¾è³´ï¼ˆgoogleapiclientï¼‰
- âœ… æ­¥é©Ÿç·¨è™Ÿæ›´æ–°ï¼ˆStep 1-9ï¼‰

**è¼¸å‡ºæª”æ¡ˆï¼š**
- [pplx_api.py](file:///c:/project/github_push/greenwashing_detective_project/pplx_api.py) - æ–°å¢ `verify_evidence_sources()` (+150 è¡Œ)
- [app.py](file:///c:/project/github_push/greenwashing_detective_project/app.py#L385-L413) - Step 6 ä¾†æºé©—è­‰æ•´åˆ
- [è®Šæ›´æ–‡æª”](file:///c:/project/github_push/greenwashing_detective_project/change/t5/README.md)

**é—œéµç‰¹æ€§ï¼š**
- âœ… P2â†’P3 è‡ªå‹•æª”æ¡ˆè·¯å¾‘æ§‹å»ºèˆ‡æª¢æŸ¥
- âœ… URL é©—è­‰ + Perplexity è‡ªå‹•ä¿®å¾©
- âœ… è©³ç´°çµ±è¨ˆè³‡è¨Šè¿”å›ï¼ˆverified/updated/failed countsï¼‰
- âœ… èˆ‡ Step 3a/4/5 ä¸€è‡´çš„éŒ¯èª¤å®¹å¿è¨­è¨ˆ
- âœ… is_verified æ¬„ä½æ¨™è¨˜ï¼ˆTrue/Failedï¼‰

---

### T6: è³‡æ–™åº«æ•´åˆ âœ… **å·²å®Œæˆ**
**ç›®æ¨™ï¼š** å°‡æœ€çµ‚çµæœå­˜å…¥è³‡æ–™åº«

**ä»»å‹™ï¼š**
1. [x] æ›´æ–° `db_service.py` çš„ `insert_analysis_results()`
2. [x] ç¢ºä¿æ”¯æ´ P3 JSON çš„æ‰€æœ‰æ¬„ä½
3. [x] å¯¦ä½œæ‰¹æ¬¡æ’å…¥é‚è¼¯
4. [x] æ•´åˆè‡³ `app.py` çš„ Step 7
5. [x] æ¸¬è©¦è³‡æ–™åº«å„²å­˜åŠŸèƒ½
6. [x] å»ºç«‹ T6 è®Šæ›´æ–‡æª”

**å®Œæˆæ—¥æœŸï¼š** 2026-01-15

**æ¸¬è©¦çµæœï¼š**
- âœ… `db_service.py` èªæ³•é©—è­‰é€šé
- âœ… `app.py` èªæ³•é©—è­‰é€šé
- âœ… Step 7 è®€å– P3 JSON æ•´åˆå®Œæˆ
- âœ… `is_verified` æ¬„ä½å¸ƒæ—å€¼è½‰æ›å¯¦ä½œå®Œæˆ

**è¼¸å‡ºæª”æ¡ˆï¼š**
- [db_service.py](file:///c:/project/github_push/greenwashing_detective_project/db_service.py#L170-L240) - æ–°å¢ `is_verified` æ”¯æ´
- [app.py](file:///c:/project/github_push/greenwashing_detective_project/app.py#L414-L441) - Step 7 è®€å– P3 JSON
- [è®Šæ›´æ–‡æª”](file:///c:/project/github_push/greenwashing_detective_project/change/t6/README.md)

**é—œéµç‰¹æ€§ï¼š**
- âœ… P3 JSON å®Œæ•´æ¬„ä½æ”¯æ´ï¼ˆå« is_verifiedï¼‰
- âœ… å¸ƒæ—å€¼è‡ªå‹•è½‰æ›ï¼ˆ"True"/"Failed" â†’ booleanï¼‰
- âœ… èˆ‡ Step 4/5/6 ä¸€è‡´çš„éŒ¯èª¤å®¹å¿è¨­è¨ˆ


---

## é¢¨éšªèˆ‡æ³¨æ„äº‹é …

### æŠ€è¡“é¢¨éšª

#### 1. API é™åˆ¶
**é¢¨éšªï¼š** Geminiã€GNewsã€Perplexity API æœ‰è«‹æ±‚é™åˆ¶

**æ‡‰å°ç­–ç•¥ï¼š**
- å¯¦ä½œ Rate Limitingï¼ˆé€Ÿç‡é™åˆ¶ï¼‰
- åŠ å…¥é‡è©¦æ©Ÿåˆ¶ï¼ˆRetry Logicï¼‰
- éŒ¯èª¤æ™‚å„ªé›…é™ç´šï¼ˆGraceful Degradationï¼‰

#### 2. åŸ·è¡Œæ™‚é–“éé•·
**é¢¨éšªï¼š** å®Œæ•´æµç¨‹å¯èƒ½éœ€è¦ 5-10 åˆ†é˜

**æ‡‰å°ç­–ç•¥ï¼š**
- å¯¦ä½œéåŒæ­¥è™•ç†ï¼ˆAsync Processingï¼‰
- æä¾›é€²åº¦å›é¥‹æ©Ÿåˆ¶
- è€ƒæ…®ä½¿ç”¨ Celery æˆ– Background Tasks

#### 3. è³‡æ–™æ ¼å¼ä¸ä¸€è‡´
**é¢¨éšªï¼š** å„æ¨¡çµ„é–“çš„æ¬„ä½åç¨±å’Œæ ¼å¼å¯èƒ½ä¸ä¸€è‡´

**æ‡‰å°ç­–ç•¥ï¼š**
- å»ºç«‹çµ±ä¸€çš„è³‡æ–™æ ¼å¼è¦ç¯„
- å¯¦ä½œæ ¼å¼è½‰æ›å±¤ï¼ˆAdapter Layerï¼‰
- åš´æ ¼çš„å–®å…ƒæ¸¬è©¦

---

### ç›¸ä¾æ€§é¢¨éšª

#### 1. æ¨¡çµ„é–“çš„ä¾è³´é †åº
**é¢¨éšªï¼š** æ­¥é©Ÿå¿…é ˆæŒ‰é †åºåŸ·è¡Œï¼Œå‰ä¸€æ­¥å¤±æ•—æœƒå½±éŸ¿å¾ŒçºŒ

**æ‡‰å°ç­–ç•¥ï¼š**
- å®Œå–„çš„éŒ¯èª¤è™•ç†
- ä¿å­˜ä¸­é–“çµæœ
- æ”¯æ´å¾ä¸­æ–·é»ç¹¼çºŒåŸ·è¡Œ

#### 2. å¤–éƒ¨æœå‹™ç©©å®šæ€§
**é¢¨éšªï¼š** ä¾è³´å¤šå€‹å¤–éƒ¨ API æœå‹™

**æ‡‰å°ç­–ç•¥ï¼š**
- å¯¦ä½œå¥åº·æª¢æŸ¥ï¼ˆHealth Checkï¼‰
- æä¾›å‚™æ´æ–¹æ¡ˆ
- è¨˜éŒ„è©³ç´°çš„éŒ¯èª¤æ—¥èªŒ

---

### è³‡æ–™å“è³ªé¢¨éšª

#### 1. AI åˆ†ææº–ç¢ºæ€§
**é¢¨éšªï¼š** Gemini AI å¯èƒ½ç”¢ç”Ÿä¸æº–ç¢ºæˆ–å¹»è¦ºå…§å®¹

**æ‡‰å°ç­–ç•¥ï¼š**
- ä½¿ç”¨ temperature=0 æé«˜ç©©å®šæ€§
- å¯¦ä½œå¤šé‡é©—è­‰æ©Ÿåˆ¶
- äººå·¥å¯©æ ¸é—œéµçµæœ

#### 2. æ–°èç›¸é—œæ€§
**é¢¨éšªï¼š** GNews æŠ“å–çš„æ–°èå¯èƒ½ä¸ç›¸é—œ

**æ‡‰å°ç­–ç•¥ï¼š**
- å¤šé‡æœå°‹ç­–ç•¥ï¼ˆprimaryã€secondaryã€tertiaryï¼‰
- æ™‚é–“ç¯„åœéæ¿¾
- ç›¸é—œæ€§è©•åˆ†

---

## æˆåŠŸæŒ‡æ¨™

### åŠŸèƒ½æ€§æŒ‡æ¨™
1. âœ… æ‰€æœ‰æ¨¡çµ„æˆåŠŸæ•´åˆè‡³ `app.py`
2. âœ… å®Œæ•´æµç¨‹å¯ç«¯åˆ°ç«¯åŸ·è¡Œ
3. âœ… è³‡æ–™æ­£ç¢ºå„²å­˜è‡³è³‡æ–™åº«
4. âœ… å‰ç«¯å¯æ­£å¸¸é¡¯ç¤ºåˆ†æçµæœ

### å“è³ªæŒ‡æ¨™
1. âœ… AI åˆ†æè¦†è“‹ç‡ â‰¥ 90% çš„ SASB è­°é¡Œ
2. âœ… æ–°èé©—è­‰æˆåŠŸç‡ â‰¥ 70%
3. âœ… URL é©—è­‰æˆåŠŸç‡ â‰¥ 80%
4. âœ… è³‡æ–™æ ¼å¼ä¸€è‡´æ€§ = 100%

### æ•ˆèƒ½æŒ‡æ¨™
1. âœ… å–®ä¸€å…¬å¸å®Œæ•´åˆ†ææ™‚é–“ â‰¤ 10 åˆ†é˜
2. âœ… API å›æ‡‰æ™‚é–“ï¼ˆå·²æœ‰è³‡æ–™ï¼‰ â‰¤ 2 ç§’
3. âœ… è³‡æ–™åº«æŸ¥è©¢æ•ˆèƒ½ â‰¤ 500ms

---

## é™„éŒ„

### é™„éŒ„ Aï¼šæª”æ¡ˆå‘½åè¦ç¯„

| é¡å‹ | æ ¼å¼ | ç¯„ä¾‹ |
|------|------|------|
| PDF å ±å‘Š | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_{å…¬å¸åç¨±}_{å ±å‘Šé¡å‹}.pdf` | `2024_1102_äºæ´²æ°´æ³¥_æ°¸çºŒå ±å‘Šæ›¸.pdf` |
| P1 JSON | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_P1.json` | `2024_1102_P1.json` |
| P2 JSON | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_P2.json` | `2024_1102_P2.json` |
| P3 JSON | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_P3.json` | `2024_1102_P3.json` |
| æ–°èçµæœ | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_news_results_{æ™‚é–“æˆ³}.json` | `2024_1102_news_results_20240115_143022.json` |
| æ–‡å­—é›² | `{å¹´ä»½}_{å…¬å¸ä»£ç¢¼}_wordcloud.png` | `2024_1102_wordcloud.png` |

---

### é™„éŒ„ Bï¼šAPI ä½¿ç”¨çµ±è¨ˆ

| API æœå‹™ | ä½¿ç”¨éšæ®µ | é ä¼°èª¿ç”¨æ¬¡æ•¸/å…¬å¸ | æˆæœ¬ä¼°ç®— |
|---------|---------|-----------------|---------|
| Gemini API | Step 3b, Step 5 | 2æ¬¡ï¼ˆP1 + P2ï¼‰ | è¦– Token æ•¸ |
| GNews API | Step 4 | 20-30æ¬¡ï¼ˆæ¯å€‹è­°é¡Œï¼‰ | å…è²» |
| Perplexity API | Step 6 | 5-10æ¬¡ï¼ˆå¤±æ•ˆ URLï¼‰ | è¦–èª¿ç”¨æ¬¡æ•¸ |

---

### é™„éŒ„ Cï¼šç›®éŒ„çµæ§‹

```
greenwashing_detective_project/
â”œâ”€â”€ temp_data/
â”‚   â”œâ”€â”€ esgReport/              # PDF å ±å‘Šå„²å­˜
â”‚   â”œâ”€â”€ prompt1_json/           # P1 åˆ†æçµæœ
â”‚   â”œâ”€â”€ prompt2_json/           # P2 é©—è­‰çµæœ
â”‚   â””â”€â”€ prompt3_json/           # P3 æœ€çµ‚çµæœ
â”‚
â”œâ”€â”€ news_search/
â”‚   â”œâ”€â”€ news_output/            # æ–°èçˆ¬èŸ²çµæœ
â”‚   â””â”€â”€ crawler_news.py         # æ–°èçˆ¬èŸ²æ¨¡çµ„
â”‚
â”œâ”€â”€ word_cloud/
â”‚   â”œâ”€â”€ wc_output/              # æ–‡å­—é›²åœ–ç‰‡
â”‚   â””â”€â”€ word_cloud.py           # æ–‡å­—é›²ç”Ÿæˆæ¨¡çµ„
â”‚
â”œâ”€â”€ static/data/
â”‚   â”œâ”€â”€ SASB_weightMap.json     # SASB æ¬Šé‡è¡¨
â”‚   â”œâ”€â”€ msci_flag.json          # MSCI è©•ç´šæ¨™æº–
â”‚   â””â”€â”€ tw_listed_companies.json # ä¸Šå¸‚å…¬å¸å°ç…§è¡¨
â”‚
â”œâ”€â”€ change/                     # è®Šæ›´ç´€éŒ„
â”‚   â”œâ”€â”€ t1/                     # T1: gemini_api æ¨¡çµ„åŒ– âœ…
â”‚   â”œâ”€â”€ t2/                     # T2: word_cloud æ•´åˆ âœ…
â”‚   â”œâ”€â”€ t3/                     # T3: crawler_news æ•´åˆ âœ…
â”‚   â”œâ”€â”€ t4/                     # T4: prompt2 æ•´åˆ âœ…
â”‚   â”œâ”€â”€ t5/                     # T5: pplx_api æ•´åˆ âœ…
â”‚   â””â”€â”€ t6/                     # T6: è³‡æ–™åº«æ•´åˆï¼ˆå¾…å»ºï¼‰
â”‚
â”œâ”€â”€ app.py                      # ä¸»è¦ Flask æ‡‰ç”¨
â”œâ”€â”€ gemini_api.py               # âœ… AI åˆ†ææ¨¡çµ„ï¼ˆå·²å®Œæˆï¼‰
â”œâ”€â”€ run_prompt2_gemini.py       # AI é©—è­‰æ¨¡çµ„
â”œâ”€â”€ pplx_api.py                 # ä¾†æºé©—è­‰æ¨¡çµ„
â””â”€â”€ db_service.py               # è³‡æ–™åº«æœå‹™æ¨¡çµ„
```

---

## ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ | ä½œè€… |
|------|------|---------|------|
| V1.5 | 2026-01-15 | T6 å®Œæˆï¼šè³‡æ–™åº«æ•´åˆæ¨¡çµ„ | Antigravity AI |
| V1.4 | 2026-01-15 | T5 å®Œæˆï¼šä¾†æºé©—è­‰æ¨¡çµ„æ•´åˆ | Antigravity AI |
| V1.3 | 2026-01-15 | T4 å®Œæˆï¼šAI é©—è­‰èˆ‡èª¿æ•´æ¨¡çµ„æ•´åˆ | Antigravity AI |
| V1.2 | 2026-01-14 | T3 å®Œæˆï¼šæ–°èçˆ¬èŸ²æ¨¡çµ„æ•´åˆ | Antigravity AI |
| V1.1 | 2026-01-14 | T2 å®Œæˆï¼šWord Cloud æ¨¡çµ„æ•´åˆ | Antigravity AI |
| V1.0 | 2026-01-14 | åˆç‰ˆè¦åŠƒæ›¸ | Antigravity AI |

---

**è¦åŠƒæ›¸çµæŸ**

> æœ¬è¦åŠƒæ›¸åƒ…ç”¨æ–¼æµç¨‹ç´€éŒ„ï¼Œä¸åŒ…å«ç¨‹å¼ç¢¼å¯¦ä½œã€‚
> å„æ¨¡çµ„æ•´åˆå°‡ä¾åºé€²è¡Œï¼Œæ¯å€‹éšæ®µå®Œæˆå¾Œå°‡å»ºç«‹å°æ‡‰çš„è®Šæ›´æ–‡æª”ï¼ˆT2-T6ï¼‰ã€‚
